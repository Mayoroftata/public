<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MayorTech | Sign In</title>
  <link rel="stylesheet" href="./bootstrap.css">
</head>
<body>
  <section class="container">
    <div class="row">
        <div class="col d-none d-lg-block d-sm-none d-md-none"></div>
        <div class="col py-2 border-3 shadow mt-5">
            <h1 class="text-center py-2">Account Sign up</h1>
            <div>
                <div class="input-group flex-nowrap my-3">
                    <span class="input-group-text" id="addon-wrapping"><img src="./img/email.svg" width="25" alt=""></span>
                    <input id="email" type="email" class="form-control" placeholder="Email" aria-label="email" aria-describedby="addon-wrapping">
                </div>
                <div class="input-group flex-nowrap my-3">
                    <span class="input-group-text" id="addon-wrapping"><img src="./img/password.svg" width="25" alt=""></span>
                    <input id="password" type="password" class="form-control" placeholder="Password" aria-label="password" aria-describedby="addon-wrapping">
                </div>
                <div class="mb-3 flex-nowrap">
                    
                </div>
                <div class="">
                    <button type="button" class="btn btn-1 rounded-pill btn-primary w-100 fw-bold py-2" id="btnSubmit">Sign Up</button>
                </div>
                <div class="content__or-text text-center">
                    <span></span>
                    <span>OR</span>
                    <span></span>
                </div>
                <div class="text-center text-dark anchor">
                    <p>Don't have an account? <a href="./signin.html" class="text-dark a-1">Sign in</a></p>
                </div>
            </div>
        </div>
        <div class="col d-none d-lg-block d-sm-none d-md-none"></div>
    </div>
  </section>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-analytics.js";
    import { getAuth, signInWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCb_bHHJAGXvyKpKvYf8sByWzY1kpcmkVM",
      authDomain: "project-different-sign-in.firebaseapp.com",
      projectId: "project-different-sign-in",
      storageBucket: "project-different-sign-in.firebasestorage.app",
      messagingSenderId: "887197616932",
      appId: "1:887197616932:web:3bb0fb69628c53a342c1b1",
      measurementId: "G-8PRW0X3JWX"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const btnSubmit = document.getElementById('btnSubmit');
    const signGithub = document.getElementById("signGithub")
    btnSubmit.addEventListener('click', ()=>{
        const mail = document.getElementById('email')
        const pass = document.getElementById('password')
            if (mail.value === '' || pass.value === '') {
                alert("empty")
            } else {
                const user = {
                    
                    maily: mail.value,
                    passy: pass.value
                }
                const { maily, passy } = user
                // console.log(maily, passy);
                // console.log(user);
                signInWithEmailAndPassword(auth, maily, passy)
                .then((credential)=>{
                    console.log(credential.user);
                    setTimeout(()=>{
                      window.location.href = 'dashboard.html'
                    },  2400)
                })
                .catch((error)=>{
                    console.log(error.code);
                    if(error.code === 'auth/invalid-credential') {
                        alert('user not found')
                    }
                    if(error.code === 'auth/invalid-email') {
                        alert('invalid email')
                    }
                })
            }
    })
    </script>

    <script src="./bootstrap.js"></script>
</body>
</html>